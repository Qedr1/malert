# NATS connection.
NATS_URL=nats://127.0.0.1:4222

# Ingest queue stream + subject.
EVENTS_STREAM=ALERTING_EVENTS
EVENTS_SUBJECT=alerting.events
EVENTS_STORAGE=file

# Notify delivery queue stream + subject.
NOTIFY_STREAM=ALERTING_NOTIFY
NOTIFY_SUBJECT=alerting.notify.jobs
NOTIFY_STORAGE=file

# Notify DLQ stream + subject.
NOTIFY_DLQ_STREAM=ALERTING_NOTIFY_DLQ
NOTIFY_DLQ_SUBJECT=alerting.notify.jobs.dlq
NOTIFY_DLQ_STORAGE=file

# Ingest queue consumer.
INGEST_CONSUMER=alerting-ingest
INGEST_DELIVER_GROUP=alerting-workers
INGEST_ACK_WAIT=30s
INGEST_MAX_DELIVER=-1
INGEST_MAX_PENDING=4096

# Notify delivery queue consumer.
NOTIFY_CONSUMER=alerting-notify
NOTIFY_DELIVER_GROUP=alerting-notify-workers
NOTIFY_ACK_WAIT=30s
NOTIFY_MAX_DELIVER=-1
NOTIFY_MAX_PENDING=4096

# State KV buckets.
TICK_BUCKET=tick
DATA_BUCKET=data
KV_STORAGE=file

# TTL resolve (delete-marker) consumer on KV_<TICK_BUCKET> stream.
RESOLVE_CONSUMER=alerting-resolve
RESOLVE_DELIVER_GROUP=alerting-resolve
# Keep "$KV." prefix exactly as-is.
RESOLVE_SUBJECT_WILDCARD=$KV.tick.>
